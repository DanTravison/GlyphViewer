<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodel="clr-namespace:GlyphViewer.ViewModels"
             xmlns:text="clr-namespace:GlyphViewer.Text"
             xmlns:res="clr-namespace:GlyphViewer.Resources"
             x:Class="GlyphViewer.Views.FamilyGroupPicker"
             x:DataType="viewmodel:MainViewModel"
             BackgroundColor="{AppThemeBinding Light=WhiteSmoke, Dark={StaticResource PrimaryDarkText}}">

    <Grid ColumnDefinitions="*, Auto"
          RowDefinitions="Auto, *">

        <CollectionView Grid.Column="0"
                        Grid.Row="0"
                        Grid.RowSpan="2"
                        ItemsSource="{Binding FontFamilies.Groups}"
                        SelectedItem="{Binding SelectedFamilyGroup, Mode=OneWayToSource}"
                        SelectionMode="Single"
                        IsGrouped="False"
                        SelectionChanged="OnSelectionChanged"
                        >
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="text:FontFamilyGroup">
                    <Label Text="{Binding Name}"
                           Style="{StaticResource FamilyNameStyle}"
                           HorizontalTextAlignment="Center"
                           TextColor="{AppThemeBinding Light={StaticResource PrimaryDarkText}, Dark=WhiteSmoke}"
                           />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Button Grid.Column="1"
                Grid.Row="0"
                Text="{x:Static res:FluentUI.DismissCircle}"
                TextColor="{AppThemeBinding Light={StaticResource PrimaryDarkText}, Dark=WhiteSmoke}"
                BackgroundColor="Transparent"
                FontFamily="FluentUI"
                FontSize="30"
                FontAttributes="Bold"
                Clicked="OnCancel"
                />
    </Grid>
</ContentView>
